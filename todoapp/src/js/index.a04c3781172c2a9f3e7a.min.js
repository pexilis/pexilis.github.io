(()=>{"use strict";const e={elements:{},components:{},helpers:{}},t=(()=>{let t={};return t.View=e,t.init=()=>{e.elements.toggleTheme=document.querySelector(".checkbox-custom--theme"),e.elements.body=document.querySelector("body"),e.elements.add=document.forms.add,e.elements.options=document.forms.option,e.elements.todoContainer=document.querySelector(".l-main__group"),e.elements.countItem=document.querySelector("span.form__result"),e.elements.radioActive=document.querySelector('input[value="active"'),e.elements.radioComplete=document.querySelector('input[value="completed"]'),e.elements.descriptionInput=document.querySelector('input[name="description"]'),e.elements.templateTodo=document.querySelector("#templateTodo"),e.components.todo=t=>{const o=e.elements.templateTodo.content.cloneNode(!0),r=o.querySelector(".item__group"),l=o.querySelector('input[name="completed"]'),d=o.querySelector(".check__group"),n=o.querySelector(".check__text");return r.setAttribute("data-id",t.id),l.setAttribute("id",t.id),d.setAttribute("for",t.id),n.textContent=t.description,o},e.helpers.updateCounter=()=>{const t=[...document.querySelectorAll(".item--todo")].filter((e=>!1===e?.querySelector("input")?.checked)).length;e.elements.countItem.textContent=`${t} items left`},e.helpers.keepBorder=()=>{const e=[...document.querySelectorAll(".l-main__todo")]?.filter((e=>"flex"===getComputedStyle(e).display)),t=e[0],o=e[e.length-1];console.log(e),console.log(t),console.log(o),e?.map((e=>{e?.classList?.remove("first--element"),e?.classList?.remove("only--element")})),e.length<=1?t?.classList?.add("only--element"):(t?.classList?.add("first--element"),o?.classList?.add("last--element"))},e.helpers.showEveryTodos=()=>{[...document.querySelectorAll(".item--todo")].map((e=>e.style.display="flex"))},e.helpers.hideCompletedTodos=()=>{[...document.querySelectorAll(".item--todo")].filter((e=>!0===e.querySelector("input").checked)).map((e=>e.style.display="none"))},e.helpers.hideNotCompletedTodos=()=>{[...document.querySelectorAll(".item--todo")].filter((e=>!1===e.querySelector("input").checked)).map((e=>e.style.display="none"))},e.helpers.removeCompleted=()=>{[...document.querySelectorAll(".item--todo")].filter((e=>!0===e.querySelector("input").checked)).map((t=>e.elements.todoContainer.removeChild(t)))},e.helpers.remove=e=>{const t=e;t.parentNode.removeChild(t)}},t})(),o=(()=>{let e={},t=null,o=null;return e.init=(e,r)=>{t=e,o=r,o.helpers.keepBorder(),o.helpers.updateCounter()},e.showAll=()=>{o.helpers.showEveryTodos(),o.helpers.keepBorder()},e.showCompleted=()=>{o.helpers.showEveryTodos(),o.helpers.hideNotCompletedTodos(),o.helpers.keepBorder()},e.showActive=()=>{o.helpers.showEveryTodos(),o.helpers.hideCompletedTodos(),o.helpers.keepBorder()},e.crossEvent=e=>{o.helpers.remove(e?.parentNode?.parentNode?.parentNode),o.helpers.updateCounter(),o.helpers.keepBorder()},e.completeEvent=()=>{o.elements.radioActive.checked&&o.helpers.hideCompletedTodos(),o.elements.radioComplete.checked&&o.helpers.hideNotCompletedTodos(),o.helpers.updateCounter(),o.helpers.keepBorder()},e.clearDOM=()=>{o.helpers.removeCompleted(),o.helpers.updateCounter(),o.helpers.keepBorder()},e.addDOM=()=>{const e=o.elements.descriptionInput.value,t=Math.floor(99999*Math.random()),r=o.components.todo({description:e,id:t});o.elements.todoContainer.prepend(r),o.elements.radioComplete.checked&&o.helpers.hideNotCompletedTodos(),o.elements.descriptionInput.value="",o.helpers.updateCounter(),o.helpers.keepBorder()},e})(),r={counter:0};document.addEventListener("DOMContentLoaded",(e=>{t.init(),o.init(r,t.View);const l=t.View.elements;l.todoContainer.addEventListener("click",(e=>{const t=e.target,r=t?.getAttribute("type","checkbox")&&"completed"===t?.getAttribute("name"),l="IMG"===t?.tagName;r&&o.completeEvent(),l&&o.crossEvent(t)})),l.toggleTheme.addEventListener("click",(e=>{const t=e.target,o="checkbox"===t?.getAttribute("type")&&t.checked,r="checkbox"===t?.getAttribute("type")&&!t.checked;o&&l.body.setAttribute("data-theme","dark"),r&&l.body.setAttribute("data-theme","")})),l.options.addEventListener("click",(e=>{const t=e.target,r="radio"===t?.getAttribute("type")&&"all"===t?.value,l="radio"===t?.getAttribute("type")&&"active"===t?.value,d="radio"===t?.getAttribute("type")&&"completed"===t?.value,n=t?.classList?.contains("form__result");r&&o.showAll(),l&&o.showActive(),d&&o.showCompleted(),n&&(e.preventDefault(),o.clearDOM())})),l.add.addEventListener("submit",(e=>{e.preventDefault(),o.addDOM()}))}))})();